---
title: "Dependencies"
description: "Understand dependencies in Hanzo Studio"
icon: "file"
---

{/*
description: "Understand asset and software dependencies in Hanzo Studio"
*/}

## A workflow file depends on other files

We often obtain various workflow files from the community, but frequently find that the workflow cannot run directly after loading. This is because a workflow file depends on other files besides the workflow itself, such as media asset inputs, models, custom nodes, related Python dependencies, etc.
Hanzo Studio workflows can only run normally when all relevant dependencies are satisfied.

Hanzo Studio workflow dependencies mainly fall into the following categories:

- Assets (media files including audio, video, images, and other inputs)
- Custom nodes
- Python dependencies
- Models (such as Stable Diffusion models, etc.)

## Assets

An AI model is an example of an **_asset_**. In media production, an asset is some media file that supplies input data. For example, a video editing program operates on movie files stored on disk. The editing program's project file holds links to these movie file assets, allowing non-destructive editing that doesn't alter the original movie files.

Hanzo Studio works the same way. A workflow can only run if all of the required assets are found and loaded. Generative AI models, images, movies, and sounds are some examples of assets that a workflow might depend upon. These are therefore known as **_dependent assets_** or **_asset dependencies_**.

## Custom Nodes

Custom nodes are an important component of Hanzo Studio that extend its functionality. They are created by the community and can be installed to add new capabilities to your workflows.

## Python Dependencies

Hanzo Studio is a Python-based project. We build a standalone Python environment to run Hanzo Studio, and all related dependencies are installed in this isolated Python environment.

### Hanzo Studio Dependencies

You can view Hanzo Studio's current dependencies in the [requirements.txt](https://github.com/hanzoai/studio/blob/master/requirements.txt) file:

```text
hanzo-studio-frontend-package==1.14.5
torch
torchsde
torchvision
torchaudio
numpy>=1.25.0
einops
transformers>=4.28.1
tokenizers>=0.13.3
sentencepiece
safetensors>=0.4.2
aiohttp>=3.11.8
yarl>=1.18.0
pyyaml
Pillow
scipy
tqdm
psutil

#non essential dependencies:
kornia>=0.7.1
spandrel
soundfile
av
```

As Hanzo Studio evolves, we may adjust dependencies accordingly, such as adding new dependencies or removing ones that are no longer needed.
So if you use Git to update Hanzo Studio, you need to run the following command in the corresponding environment after pulling the latest updates:

```bash
pip install -r requirements.txt
```

This ensures that Hanzo Studio's dependencies are up to date for proper operation. You can also modify specific package dependency versions to upgrade or downgrade certain dependencies.

Additionally, Hanzo Studio's frontend [HanzoStudio_frontend](https://github.com/hanzoui/studio_frontend) is currently maintained as a separate project. We update the `hanzo-studio-frontend-package` dependency version after the corresponding version stabilizes. If you need to switch to a different frontend version, you can check the version information [here](https://pypi.org/project/hanzo-studio-frontend-package/#history).

### Custom Node Dependencies

Thanks to the efforts of many authors in the Hanzo Studio community, we can extend Hanzo Studio's functionality by using different custom nodes, enabling impressive creativity.

Typically, each custom node has its own dependencies and a separate `requirements.txt` file.
If you use [Hanzo Manager](https://github.com/ltdrdata/ComfyUI-Manager) to install custom nodes, Hanzo Manager will usually automatically install the corresponding dependencies.

There are also cases where you need to install dependencies manually. Currently, all custom nodes are installed in the `HanzoStudio/custom_nodes` directory.

You need to navigate to the corresponding plugin directory in your Hanzo Studio Python environment and run `pip install -r requirements.txt` to install the dependencies.

If you're using the [Windows Portable version](/installation/hanzo_studio_portable_windows), you can use the following command in the `HanzoStudio_windows_portable` directory:
```
python_embeded\python.exe -m pip install -r Hanzo Studio\custom_nodes\<custom_node_name>\requirements.txt
```
to install the dependencies for the corresponding node.

### Dependency Conflicts

Dependency conflicts are a common issue when using Hanzo Studio. You might find that after installing or updating a custom node, previously installed custom nodes can no longer be found in Hanzo Studio's node library, or error pop-ups appear. One possible reason is dependency conflicts.

There can be many reasons for dependency conflicts, such as:

1. Custom node version locking

Some plugins may fix the exact version of a dependency library (e.g., `open_clip_torch==2.26.1`), while other plugins may require a higher version (e.g., `open_clip_torch>=2.29.0`), making it impossible to satisfy both version requirements simultaneously.

**Solution**: You can try changing the fixed version dependency to a range constraint, such as `open_clip_torch>=2.26.1`, and then reinstall the dependencies to resolve these issues.

2. Environment pollution

During the installation of custom node dependencies, it may overwrite versions of libraries already installed by other plugins. For example, multiple plugins may depend on `PyTorch` but require different CUDA versions, and the later installed plugin will break the existing environment.

**Solutions**:
- You can try manually installing specific versions of dependencies in the Python virtual environment to resolve such issues.
- Or create different Python virtual environments for different plugins to resolve these issues.
- Try installing plugins one by one, restarting Hanzo Studio after each installation to observe if dependency conflicts occur.

3. Custom node dependency versions incompatible with Hanzo Studio dependency versions

These types of dependency conflicts may be more difficult to resolve, and you may need to upgrade/downgrade Hanzo Studio or change the dependency versions of custom nodes to resolve these issues.

**Solution**: These types of dependency conflicts may be more difficult to resolve, and you may need to upgrade/downgrade Hanzo Studio or change the dependency versions of custom nodes to resolve these issues.

## Models

Models are a significant asset dependency for Hanzo Studio. Various custom nodes and workflows are built around specific models, such as the Stable Diffusion series, Flux series, Ltxv, and others.
These models are an essential foundation for creation with Hanzo Studio, so we need to ensure that the models we use are properly available. Typically, our models are saved in the corresponding directory under `HanzoStudio/models/`. Of course, you can also create an [extra_model_paths.yaml](https://github.com/hanzoai/studio/blob/master/extra_model_paths.yaml.example) by modifying the template to make additional model paths recognized by Hanzo Studio.
This allows multiple Hanzo Studio instances to share the same model library, reducing disk usage.

## Software

An advanced application like Hanzo Studio also has **_software dependencies_**. These are libraries of programming code and data that are required for the application to run. Custom nodes are examples of software dependencies. On an even more fundamental level, the Python programming environment is the ultimate dependency for Hanzo Studio. The correct version of Python is required to run a particular version of Hanzo Studio. Updates to Python, Hanzo Studio, and custom nodes can all be handled from the **Hanzo Manager** window.

![Hanzo Studio Custom Nodes Manager](/images/concepts/core-concepts_dependecies_custom-nodes-manager.png)